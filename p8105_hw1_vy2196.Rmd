---
title: "p8105_hw1_vy2196"
output: github_document

---

### Problem 1
```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)

library(moderndive)   # load the package
data("early_january_weather")  # load dataset
head(early_january_weather) #first few rows and columns of data
```

#### Data description
The `early_january_weather` dataset contains `r nrow(early_january_weather)` rows and `r ncol(early_january_weather)` columns. 

It includes hourly weather observations from New York City in early January 2013. 
Key variables include:

- `time_hour`: the date-time of observation  
- `temp`: temperature in Fahrenheit  
- `humid`: relative humidity (0–100)  
- `wind_dir`: wind direction
- `wind_speed`: wind speed in mph  
- `visib`: visibility in miles  
- plus other variables describing conditions such as `pressure`and `origin`.

The mean temperature during this period was 
`r round(mean(early_january_weather$temp, na.rm = TRUE), 1)` °F.

#### Creating a scatterplot

```{r scatterplot, fig.width=7, fig.height=4}
library(ggplot2)

p <- ggplot(early_january_weather, aes(x = time_hour, y = temp, color = humid)) +
  geom_point(alpha = 0.7) +
  scale_color_viridis_c(option = "plasma") +
  labs(title = "NYC Temperature in Early January 2013",
       x = "Time (Hour)",
       y = "Temperature (°F)",
       color = "Humidity") +
  theme_minimal()

# Show in knitted report
p

# Exporting scatterplot
ggsave("scatterplot_temp_vs_time.png", plot = p, width = 7, height = 4)
```

##### Descriptions of the graph's pattern
The scatter plot shows a gradual increase in temperature over the next two weeks starting from January 1st. There was a big temperature difference in the beginning of January and then it slowly decreased and increased by mid-January. The humidity also increased comparing to early January from 40s to approaching 100 toward mid-January. 

### Problem 2

```{r}
set.seed(123)  # for reproducibility
num_var <- rnorm(10)
log_var <- num_var > 0
char_var <- c("a","b","c","d","e","f","g","h","i","j")
fact_var <- factor(rep(c("low", "medium", "high"), length.out = 10))
df <- data.frame(num_var, log_var, char_var, fact_var)
df
```


```{r}
library(tidyverse)

mean(pull(df, num_var))   
mean(pull(df, log_var))  
mean(pull(df, char_var))  
mean(pull(df, fact_var)) 

```

The `pull` function works for taking the average of the numbers and logical vectors since it's stored as 1s or 0s. However, it shows an error message for both character vector and factor vector. Character vector is not stored as numeric values, so there will be no numbers to average. Factor vector is internally stored as integers, but `mean()` doesn't automatically use it unless explicitly said to. 


```{r, results = 'hide', warning = FALSE}

as.numeric(pull(df, log_var))
as.numeric(pull(df, char_var))
as.numeric(pull(df, fact_var))

```

`as.numeric` works for both `log_var` and `fact_var` where it turned `True` and `False` into `1` and `0`, and gives the underlying integer codes of the factor levels. However, it still didn't work for `char_var` because characters cannot be converted to numeric values, so R returned NA.

